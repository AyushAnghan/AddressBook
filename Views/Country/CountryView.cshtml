
@model List<LocMvc.Models.CountryModel>
@using LocMvc.Helper

<!-- Ensure Bootstrap Icons are included properly -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<div class="container mt-5">
    <!-- Title Section with Blue Background and White Text -->
    <div class="text-center mb-4">
        <h3 class="bg-primary text-white py-2 px-4 rounded">Country List</h3>
    </div>

    <div class="card shadow-lg">
        <!-- Add New Country Button -->
        <div class="card-header d-flex justify-content-end bg-light">
            <a asp-controller="Country" asp-action="AddOrEditCountry" class="btn btn-success btn-sm">
                <i class="bi bi-plus-circle"></i> Add New Country
            </a>
        </div>

        <div class="card-body">
            <!-- Country List Table -->
            <table class="table table-bordered table-striped">
                <thead class="table-dark text-center">
                    <tr>
                        <th scope="col">Country Name</th>
                        <th scope="col">Country Code</th>
                        <th scope="col">State Count</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Any())
                    {
                        foreach (var country in Model)
                        {
                            <tr>
                                <td class="text-center">@country.countryName</td>
                                <td class="text-center">@country.countryCode</td>
                                <td class="text-center">
                                    <a class="btn"
                                       asp-controller="State"
                                       asp-action="StateView"
                                       asp-route-CountryId="@country.countryId"
                                       >
                                      @country.StateCount
                                    </a>
                                </td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center">
                                        <a class="btn btn-sm btn-primary"
                                           asp-controller="Country"
                                           asp-action="AddOrEditCountry"
                                           asp-route-CountryId="@country.countryId"
                                           data-bs-toggle="tooltip"
                                           title="Edit Country">
                                            <i class="bi bi-pencil"></i> Edit
                                        </a>
                                        <a class="btn btn-sm btn-danger ms-1"
                                           asp-controller="Country"
                                           asp-action="DeleteCountry"
                                           asp-route-CountryId="@country.countryId"
                                           data-bs-toggle="tooltip"
                                           title="Delete Country">
                                            <i class="bi bi-trash"></i> Delete
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="5" class="text-center">No countries found.</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Tooltip Initialization Script -->
<script>
    // Enable Bootstrap tooltips
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });

    // Confirmation dialog for delete button
    document.querySelectorAll('.btn-danger').forEach(button => {
        button.addEventListener('click', function (event) {
            if (!confirm('Are you sure you want to delete this country?')) {
                event.preventDefault();
            }
        });
    });
</script>


@*----------------------------------------------------------------------------------------------------------------------------------------*@




@* @model List<LocMvc.Models.CountryModel>

<!-- Ensure Bootstrap Icons are included properly -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<div class="container mt-5">
    <!-- Title Section with Blue Background and White Text -->
    <div class="text-center mb-4">
        <h3 class="bg-primary text-white py-2 px-4 rounded">Country List</h3>
    </div>

    <div class="card shadow-lg">
        <!-- Add New Country Button -->
        <div class="card-header d-flex justify-content-end bg-light">
            <a asp-controller="Country" asp-action="AddOrEditCountry" class="btn btn-success btn-sm">
                <i class="bi bi-plus-circle"></i> Add New Country
            </a>
        </div>

        <div class="card-body">
            <!-- Country List Table -->
            <table class="table table-bordered table-striped">
                <thead class="table-dark text-center">
                    <tr>
                        <th scope="col">Country Name</th>
                        <th scope="col">Country Code</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Any())
                    {
                        foreach (var country in Model)
                        {
                            <tr>
                                <td class="text-center">@country.countryName</td>
                                <td class="text-center">@country.countryCode</td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center">
                                        <a class="btn btn-sm btn-primary"
                                           asp-controller="Country"
                                           asp-action="AddOrEditCountry"
                                           asp-route-CountryId="@country.countryId"
                                           data-bs-toggle="tooltip"
                                           title="Edit Country">
                                            <i class="bi bi-pencil"></i> Edit
                                        </a>
                                        <a class="btn btn-sm btn-danger ms-1"
                                           asp-controller="Country"
                                           asp-action="DeleteCountry"
                                           asp-route-CountryId="@country.countryId"
                                           data-bs-toggle="tooltip"
                                           title="Delete Country">
                                            <i class="bi bi-trash"></i> Delete
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="5" class="text-center">No countries found.</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Tooltip Initialization Script -->
<script>
    // Enable Bootstrap tooltips
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });

    // Confirmation dialog for delete button
    document.querySelectorAll('.btn-danger').forEach(button => {
        button.addEventListener('click', function (event) {
            if (!confirm('Are you sure you want to delete this country?')) {
                event.preventDefault();
            }
        });
    });
</script> *@