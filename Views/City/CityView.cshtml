@model List<LocMvc.Models.CityModel>
@using LocMvc.Helper

<!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<div class="container mt-5">
    <!-- Title Section with Blue Background and White Text -->
    <div class="text-center mb-4">
        <h3 class="bg-primary text-white py-2 px-4 rounded">City List</h3>
    </div>

    <div class="card shadow-lg">
        <!-- Add New City Button -->
        <div class="card-header d-flex justify-content-end bg-light">
            <a asp-controller="City" asp-action="AddorEditCity" class="btn btn-success btn-sm">
                <i class="bi bi-plus-circle"></i> Add New City
            </a>
        </div>

        <div class="card-body">
            <!-- City List Table -->
            <table class="table table-bordered table-striped">
                <thead class="table-dark text-center">
                    <tr>
                        <th scope="col">City Name</th>
                        <th scope="col">Country Name</th>
                        <th scope="col">State Name</th>
                        <th scope="col">City Code</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Any())
                    {
                        foreach (var city in Model)
                        {
                            <tr>
                                <td>@city.CityName</td>
                                <td>@city.CountryName</td>
                                <td>@city.StateName</td>
                                <td>@city.CityCode</td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center">
                                        <a class="btn btn-sm btn-primary"
                                           asp-controller="City"
                                           asp-action="AddorEditCity"
                                           asp-route-CityId="@city.CityID"
                                           data-bs-toggle="tooltip"
                                           title="Edit City">
                                            <i class="bi bi-pencil"></i> Edit
                                        </a>
                                        <a class="btn btn-sm btn-danger ms-1"
                                           asp-controller="City"
                                           asp-action="DeleteCity"
                                           asp-route-CityId="@city.CityID"
                                           data-bs-toggle="tooltip"
                                           title="Delete City">
                                            <i class="bi bi-trash"></i> Delete
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="5" class="text-center">No cities found.</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Tooltip Initialization Script -->
<script>
    // Enable Bootstrap tooltips
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });

    // Confirmation dialog for delete button
    document.querySelectorAll('.btn-danger').forEach(button => {
        button.addEventListener('click', function (event) {
            if (!confirm('Are you sure you want to delete this city?')) {
                event.preventDefault();
            }
        });
    });
</script>



@* ---------------------------------------------------------------------------------------------------------------------------- *@


@* @model List<LocMvc.Models.CityModel>

<!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<div class="container mt-5">
    <!-- Title Section with Blue Background and White Text -->
    <div class="text-center mb-4">
        <h3 class="bg-primary text-white py-2 px-4 rounded">City List</h3>
    </div>

    <div class="card shadow-lg">
        <!-- Add New City Button -->
        <div class="card-header d-flex justify-content-end bg-light">
            <a asp-controller="City" asp-action="AddorEditCity" class="btn btn-success btn-sm">
                <i class="bi bi-plus-circle"></i> Add New City
            </a>
        </div>

        <div class="card-body">
            <!-- City List Table -->
            <table class="table table-bordered table-striped">
                <thead class="table-dark text-center">
                    <tr>
                        <th scope="col">City Name</th>
                        <th scope="col">Country Name</th>
                        <th scope="col">State Name</th>
                        <th scope="col">City Code</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Any())
                    {
                        foreach (var city in Model)
                        {
                            <tr>
                                <td>@city.CityName</td>
                                <td>@city.CountryName</td>
                                <td>@city.StateName</td>
                                <td>@city.CityCode</td>
                                <td class="text-center">
                                    <div class="d-flex justify-content-center">
                                        <a class="btn btn-sm btn-primary"
                                           asp-controller="City"
                                           asp-action="AddorEditCity"
                                           asp-route-CityId="@city.CityID"
                                           data-bs-toggle="tooltip"
                                           title="Edit City">
                                            <i class="bi bi-pencil"></i> Edit
                                        </a>
                                        <a class="btn btn-sm btn-danger ms-1"
                                           asp-controller="City"
                                           asp-action="DeleteCity"
                                           asp-route-CityId="@city.CityID"
                                           data-bs-toggle="tooltip"
                                           title="Delete City">
                                            <i class="bi bi-trash"></i> Delete
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="5" class="text-center">No cities found.</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Tooltip Initialization Script -->
<script>
    // Enable Bootstrap tooltips
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });

    // Confirmation dialog for delete button
    document.querySelectorAll('.btn-danger').forEach(button => {
        button.addEventListener('click', function (event) {
            if (!confirm('Are you sure you want to delete this city?')) {
                event.preventDefault();
            }
        });
    });
</script> *@